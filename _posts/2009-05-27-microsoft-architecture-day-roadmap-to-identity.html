--- 
layout: post
title: "Microsoft Architecture Day: Roadmap to Identity"
published: true
meta: {}

tags: []

type: post
status: publish
---
<p>Today Microsoft hosted the Architecture Day. This is an interesting event where architects from different companies come together to talk about different topics (similar to the <a href="http://blogs.southworks.net/mwoloski/2008/06/16/raf-08-buenos-aires-argentina/">Regional Architect Forum</a>). In this opportunity I proposed to do a presentation about Identity related to some work we did with a customer on Microsoft “Geneva”. So together with <a href="http://blogs.southworks.net/srenzi">Sebastian Renzi</a> (who was the PM in that project) we did a one hour presentation covering the basis of claim based identity and a demo of the work we did in this customer.</p>  <p>The presentation started by telling a story about a typical company that created its first application. This app used Windows Authentication so life was easy :). However business grew over time and they ended up with multiple applications, each one with its own identity repository, different authentication methods, support users accessing from intranet, internet, extranet, cloud, and so on and so forth. I grab this diagram from Stuart Kwan presentation from the Genevea Product Team (so thanks Stuart for the cool representation).</p>  <p><a href="http://blogs.southworks.net/mwoloski/files/2009/05/image4.png"><img border="0" alt="image" src="http://blogs.southworks.net/mwoloski/files/2009/05/image-thumb4.png" width="640" height="471" /></a> </p>  <p>Then we went through the problems from different perspectives: the department who is in charge of security, the end user and the architect. (I wish I had the time to translate it to English but you can imagine…)</p>  <table border="0" cellspacing="0" cellpadding="2" width="679"><tbody>     <tr>       <td valign="top" width="343"><a href="http://blogs.southworks.net/mwoloski/files/2009/05/image5.png"><img border="0" alt="image" src="http://blogs.southworks.net/mwoloski/files/2009/05/image-thumb5.png" width="324" height="243" /></a></td>        <td valign="top" width="334"><a href="http://blogs.southworks.net/mwoloski/files/2009/05/image6.png"><img border="0" alt="image" src="http://blogs.southworks.net/mwoloski/files/2009/05/image-thumb6.png" width="324" height="244" /></a> </td>     </tr>      <tr>       <td valign="top" width="348"><a href="http://blogs.southworks.net/mwoloski/files/2009/05/image7.png"><img border="0" alt="image" src="http://blogs.southworks.net/mwoloski/files/2009/05/image-thumb7.png" width="324" height="243" /></a> </td>        <td valign="top" width="338">&#160;</td>     </tr>   </tbody></table>  <p>If you think about these problems, many of them can be solved if you follow this principle:</p>  <p><strong><font size="4">Externalize from the application logic the following responsibilities: </font></strong></p>  <ul>   <li><strong><font size="4">the process of authentication</font></strong> </li>    <li><strong><font size="4">the retrieval of attributes that will be used later for authorization</font></strong> </li> </ul>  <p>This is exactly what claim based identity is about. We setup an analogy between how an event registration works under the same principles of credentials, STS, claims and resources (kudos to <a href="http://blogs.msdn.com/eugeniop">Eugenio Pace</a> who originally did this analogy in his PDC presentation).</p>  <p><a href="http://blogs.southworks.net/mwoloski/files/2009/05/image8.png"><img border="0" alt="image" src="http://blogs.southworks.net/mwoloski/files/2009/05/image-thumb8.png" width="591" height="768" /></a> </p>  <p>Now, if I have to start a company I certainly would create my STS and applications and will use claim based identity. However, in the real world we know that the landscape is much more complex and there are existing applications with identity silos running everyday. Any disruptive change will be a huge mess for everyone. So this is the roadmap we established together with this customer (which is one of the biggest insurance company here in Argentina):</p>  <p><a href="http://blogs.southworks.net/mwoloski/files/2009/05/image9.png"><img border="0" alt="image" src="http://blogs.southworks.net/mwoloski/files/2009/05/image-thumb9.png" width="640" height="457" /></a> </p>  <p>We decided to tackle authentication first and try to remove the identity silos in an organic fashion. Since they had many applications (some of them using SQL Server, some others AD, some others a custom mechanism) we wanted to rely on users to do the migration as opposed to a huge migration from IT. This also allowed IT to debug the user database. The following figure shows how the consolidation of identity would happen through time. It will work as fast as users will do its first login and create the mapping with the new repository. This works well when you have lots of apps using a database as the user repository.</p>  <p><a href="http://blogs.southworks.net/mwoloski/files/2009/05/image10.png"><img border="0" alt="image" src="http://blogs.southworks.net/mwoloski/files/2009/05/image-thumb10.png" width="640" height="416" /></a></p>  <p><em>Note: this is not based on real data, it tries to give you an idea of how it works over time (credits to <a href="http://blogs.southworks.net/jhalife">Johnny Halife</a>). </em></p>  <p>We did a demo on how this works and people were interested in this approach because it is not disruptive. </p>  <p>I posted the presentation in Spanish and you can <a href="http://snipurl.com/identitypptspanish">download it from here</a></p>  <p><em>Some useful resources </em></p>  <p>Identity Development Training Kit:<a href="http://snipurl.com/identitytk"> </a><a href="http://snipurl.com/identitytk">http://snipurl.com/identitytk</a>     <br />“Geneva” Download:<a href="http://snipurl.com/identitytk"> </a><a href="http://snipurl.com/genevadownload">http://snipurl.com/genevadownload</a>     <br />Channel9 Identity: <a href="http://channel9.msdn.com/identity/">http://channel9.msdn.com/identity/</a>     <br />Blog Vittorio Bertocci:<a href="http://snipurl.com/identitytk"> </a><a href="http://snipurl.com/vibro">http://snipurl.com/vibro</a></p>
